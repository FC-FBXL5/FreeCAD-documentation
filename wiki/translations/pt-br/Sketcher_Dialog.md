# Sketcher Dialog/pt-br
<div style="float:right; clean:both; margin-left:0.5em;">

\_\_TOC\_\_


</div>

## Introduction

If you are in a sketch, the sketcher dialog is shown in the Combo view panel in the tab Tasks (task bar). To jump into a sketch, select it in the model tree an either double-click on it or right-click on it and then select **Edit sketch** in the context menu. Another possibility is to click on the toolbar icon <img alt="" src=images/Sketcher_EditSketch.svg  style="width:20px;"> ([Edit sketch](Sketcher_EditSketch.md)).

The dialog consists of the following sections:

## Solver messages 

This section informs you about the state of the sketch, if it is under- or over-constrained and how many degrees of freedom the sketch has. By clicking on the the degrees of freedom the under-constrained sketch elements will be highlighted with green color.

There are two solver messages options:

+++
| Name                                   | Description                                                                                                                                                                                                                                                                                                  |
+========================================+==============================================================================================================================================================================================================================================================================================================+
|                         | If checked, new created constraints that would be redundant to the existing constraints will automatically be removed. The removal will be silent for constrains that are not dimensional.                                                                                                                   |
| **Auto Remove Redundants** | Note: For dimensional redundant constraints you will be informed that the new constraint is invalid, no matter if you use **Auto Remove Redundants** or not.                                                                                                                       |
|                                     |                                                                                                                                                                                                                                                                                                              |
+++
|                         | If checked, the whole document will be recomputed after every sketch action. The advantage is that if you e.g. edit the sketch of a pocket, you will see the effect immediately. The disadvantage is that it takes a long time for complex documents. Thus disable the option if editing sketches gets slow. |
| **Auto Update**            |                                                                                                                                                                                                                                                                                                              |
|                                     |                                                                                                                                                                                                                                                                                                              |
+++

## Advanced solver control 

This dialog section will only appear if you check the option **Show section \'Advanced solver control**\' in the [sketcher preferences](Sketcher_Preferences.md).

You can specify the following:

+++
| Name                                        | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
+=============================================+===============================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
|                              | The solver that is used for solving the geometry. **[LevenbergMarquardt](https://en.wikipedia.org/wiki/Levenberg%E2%80%93Marquardt_algorithm)** and **DogLeg** are [trust region](https://en.wikipedia.org/wiki/Trust_region) optimization algorithms. The **BFGS** solver uses the [Broyden--Fletcher--Goldfarb--Shanno algorithm](https://en.wikipedia.org/wiki/Broyden%E2%80%93Fletcher%E2%80%93Goldfarb%E2%80%93Shanno_algorithm).                                                                                                                                                                        |
| **Default solver**              |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
+++
|                              | This setting is only available for the solver **DogLeg**. It is the step type used in the DogLeg algorithm.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| **DogLeg Gauss step**           |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
+++
|                              | If the solver needs more iterations to find a convergence to a solution, it will stop and output that it failed.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| **Maximum iterations**          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
+++
|                              | If checked, the maximum iterations will be multiplied by the number of parameters. The idea is that bigger sketches would need more iterations to converge.                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| **Sketch size multiplier**      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
+++
|                              | The threshold for the squared error. This error is used to determine whether a solution converges or not.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| **Convergence**                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
+++
|                              | These settings are only available for the solver **LevenbergMarquardt**. You should only change there something if you fully understand how the LevenbergMarquardt solver works.                                                                                                                                                                                                                                                                                                                                                                                                                              |
| **Eps/Eps1/Tau**                |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
+++
|                              | These settings are only available for the solver **DogLeg**. You should only change there something if you fully understand how the DogLeg solver works.                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| **Tolg/Tolx/Tolf**              |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
+++
|                              | During diagnosing the rank of the matrix is calculated which enables to further analyze the constraint system to determine if there are redundant/conflicting constraints. The rank revealing decomposition used in FreeCAD is QR. There are two algorithms: **Eigen Dense QR** is a dense matrix QR with full pivoting, which is the legacy proven algorithm that works very well but it is rather slow as the system grows. The **Eigen Sparse QR** algorithm is an optimization for sparse matrices (having lots of zeros), which is usually much faster, since FreeCAD\'s systems do have a lot of zeros. |
| **QR Algorithm**                |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
+++
|                              | When doing a QR, values under the pivot threshold are treated as zero.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| **Pivot threshold**             |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
+++
|                              | The solver that is used during diagnosing to determine whether a group is redundant or conflicting.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| **Redundant Solver**            |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
+++
|                              | The same as **Maximum iterations**, but for the redundant solving.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| **Red. Max Iterations**         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
+++
|                              | The same as **Sketch size multiplier**, but for the redundant solving.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| **Red. Sketch size multiplier** |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
+++
|                              | The same as **Convergence**, but for the redundant solving.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| **Red. Convergence**            |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
+++
|                              | The same as **Eps/Eps1/Tau**, but for the redundant solving.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| **R.Eps/R.Eps1/R.Tau**          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
+++
|                              | The same as **Tolg/Tolx/Tolf**, but for the redundant solving.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| **R.Tolg/R.Tolx/R.Tolf**        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
+++
|                              | Setting to specify the verbosity of the console output.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| **Console Debug mode**          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
+++
|                              | With this button the solver will explicitly started.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| **Solve**                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
+++
|                              | With this button the default solver settings will be restored.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| **Restore Defaults**            |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
+++

*Note:* Most of the solver parameters are of no practical use. They can however help testing and understanding the solvers.

## Edit controls 

This dialog section can be suppressed by unchecking the option **Show section \'Edit controls**\' in the [sketcher preferences](Sketcher_Preferences.md). <small>(v1.0)</small> 

The edit controls are intended to improve the workflow. They can also globally set for all sketches via the [sketcher preferences](Sketcher_Preferences#General_Settings.md).

You can set the following controls:

+++
| Name                                             | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
+==================================================+===========================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
|                                   | If checked, a grid will be shown.                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| **Show Grid**                        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|                                               |                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
+++
|                                   | The distance between two subsequent grid lines. Note that the default value of 0 mm will result in a 10 mm grid.                                                                                                                                                                                                                                                                                                                                                          |
| **Grid size**                        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|                                               |                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
+++
|                                   | If checked, new points will snap to the nearest grid line. Note that the points have already to be close to a grid line that the snap takes effect. The distance is a fifth of the value set for **Grid size**, so for a 10 mm grid, the snapping only occurs if the point is not more than 2 mm away from a grid line.                                                                                                                         |
| **Grid snap**                        | **Note:** A snapped point has no coincident constraint with the grid point it snapped to.                                                                                                                                                                                                                                                                                                                                                                                 |
|                                               |                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
+++
|                                   | If checked, the sketcher proposes automatically sensible constraints. If you draw for example a [polyline](Sketcher_CreatePolyline.md) <img alt="" src=images/Sketcher_CreatePolyline.svg  style="width:20px;"> and point towards the bottom, you will see that the sketcher proposes a vertical constraint:<img alt="" src=images/Constraint_Vertical.svg  style="width:20px;">. If you set now a point the drawn line segment will get the vertical constraint. |
| **Auto constraints**                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|                                               |                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
+++
|                                   | If checked, the sketcher tries not to propose redundant auto constraints. This option only has an effect if also the option **Auto constraints** is used.                                                                                                                                                                                                                                                                                       |
| **Avoid redundant auto constraints** |                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|                                               |                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
+++
|                                   | The order how sketches are rendered. To change it, drag and drop a geometry type to the top or bottom.                                                                                                                                                                                                                                                                                                                                                                    |
| **Rendering order**                  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|                                               |                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
+++

## Constraints

This sections lists the constraints of the sketch. By unchecking a constraint in the list you can hide it.

You can set the following options:

+++
| Name                                    | Description                                                                                                                                                                                                                                                                                             |
+=========================================+=========================================================================================================================================================================================================================================================================================================+
|                          | You can select what constraint types will be listed. The types are                                                                                                                                                                                                                                      |
| **Filter**                  | *All*: all constraints                                                                                                                                                                                                                                                                                  |
|                                      | *Normal*: constraints to normal sketch elements                                                                                                                                                                                                                                                         |
|                                         | *Datums*: dimensional constraints to [construction elements](Sketcher_ToggleConstruction.md)                                                                                                                                                                                                    |
|                                         | *Named*: constraints with a name                                                                                                                                                                                                                                                                        |
|                                         | *Reference*: constraints in [reference mode](Sketcher_ToggleDrivingConstraint.md)                                                                                                                                                                                                               |
+++
|                          | If checked, [internal alignments](Sketcher_ConstrainInternalAlignment.md) will be hidden. Currently the sketcher uses internal alignments to construct [Ellipses/Arcs](Sketcher_CompCreateConic.md) and [B-splines](Sketcher_CompCreateBSpline.md).                             |
| **Hide Internal Alignment** | Note: You can only hide these alignments in the constraint list. To hide them in the sketch you must use the toolbar button <img alt="" src=images/Sketcher_Element_Ellipse_All.png‎  style="width:24px;"> ([Show/Hide internal geometry](Sketcher_RestoreInternalAlignmentGeometry.md)). |
|                                      |                                                                                                                                                                                                                                                                                                         |
+++
|                          | If checked, extended information will be added to the list in this form                                                                                                                                                                                                                                 |
| **Extended Information**    | \[(GeoID1,PosID1);(GeoID2,PosID2);(GeoID3,PosID3)\]                                                                                                                                                                                                                                                     |
|                                      | PosID can have the following values:                                                                                                                                                                                                                                                                    |
|                                         | *0*: Edge, *1* = starting point, *2* = endpoint, *3* = midpoint                                                                                                                                                                                                                                         |
|                                         | The GeoID is the number of the sketch element minus 1. The coordinate system origin has the GeoID *-1*.                                                                                                                                                                                                 |
|                                         | For example a dimension from the origin to the center of a circle with the element number \'2\' will get this information: \[(1,3);(-1,1)\]                                                                                                                                                             |
+++

## Elements

In sections the sketch elements are listed and can be highlighted. If you click in the list on an element it will be highlighted with green color. Every element in the list begins with a number. The number is the order of creation in the sketch.
If you keep the **Ctrl** key pressed you can select several elements at once. If you press the **Z** key you can switch to the next valid type. For example if you select a line in the list and press **Z** you can switch to its defining points.

You can set the following options:

+++
| Name                                | Description                                                                                                                                                                                                                                                                                                                                                                                                         |
+=====================================+=====================================================================================================================================================================================================================================================================================================================================================================================================================+
|                      | You can select the list selection type. If you set for example *End point*, all elements in the list that don\'t have an end point (circles etc.) will get the icon <img alt="" src=images/Sketcher_Element_SelectionTypeInvalid.svg  style="width:20px;"> to indicate that you can click on them but they will not be highlighted. If you click e.g. on a line, its end point will be highlighted. |
| **Type**                | You can choose between the types *Edge*, *Starting Point*, *End Point* and *Center Point*.                                                                                                                                                                                                                                                                                                                          |
|                                  |                                                                                                                                                                                                                                                                                                                                                                                                                     |
+++
|                      | You can select what sketch elements will be shown in the list, either *All*, *Normal* (regular sketch elements), *Construction* ([construction elements](Sketcher_ToggleConstruction.md)) and *External* (elements from [external geometries](Sketcher_External.md)).                                                                                                                               |
| **Mode**                |                                                                                                                                                                                                                                                                                                                                                                                                                     |
|                                  |                                                                                                                                                                                                                                                                                                                                                                                                                     |
+++
|                      | If checked, the naming in the list changes from:                                                                                                                                                                                                                                                                                                                                                                    |
| **Extended Naming**     | *-type*                                                                                                                                                                                                                                                                                                                                                                                            |
|                                  | to:                                                                                                                                                                                                                                                                                                                                                                                                                 |
|                                     | *type(Edge)\[-Construction\]*                                                                                                                                                                                                                                                                                                                                                                      |
|                                     | So the name gets longer but contains the information about the element mode.                                                                                                                                                                                                                                                                                                                                        |
+++
|                      | If checked, only the **Type** *Edge* will be available for the list.                                                                                                                                                                                                                                                                                                                      |
| **Auto-switch to Edge** |                                                                                                                                                                                                                                                                                                                                                                                                                     |
|                                  |                                                                                                                                                                                                                                                                                                                                                                                                                     |
+++





{{Sketcher Tools navi

}}



---
![](images/Right_arrow.png) [documentation index](../README.md) > [Sketcher](Sketcher_Workbench.md) > Sketcher Dialog/pt-br
