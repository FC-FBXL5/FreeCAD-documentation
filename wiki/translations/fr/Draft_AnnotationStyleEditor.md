---
- GuiCommand:/fr
   Name:Draft AnnotationStyleEditor
   Name/fr:Draft Éditeur de styles d'annotations
   MenuLocation:Annotation → Éditeur de styles d'annotations...
   Workbenches:[Draft](Draft_Workbench/fr.md)
   SeeAlso:[Draft Texte](Draft_Text/fr.md), [Draft Étiquette](Draft_Label/fr.md), [Draft Dimension](Draft_Dimension/fr.md)
   Version:0.19
---

# Draft AnnotationStyleEditor/fr

## Description

La commande <img alt="" src=images/Draft_AnnotationStyleEditor.svg  style="width:24px;"> **Draft Éditeur de styles d\'annotations** vous permet de définir des styles qui affectent les propriétés visuelles des objets de type annotation, comme ceux créés par les commandes [Draft Texte](Draft_Text/fr.md), [Draft Dimension](Draft_Dimension/fr.md) et [Draft Étiquette](Draft_Label/fr.md).

![](images/Draft_AnnotationStyleEditor_example.png ) 
*La boîte de dialogue Éditeur de styles d'annotation*

## Utilisation

1.  Il existe plusieurs façons de lancer la commande :
    -   Appuyez sur le bouton **<img src="images/Draft_AnnotationStyleEditor.svg" width=16px> [Manage or create annotation styles](Draft_AnnotationStyleEditor/fr.md)**.
    -   Sélectionnez l\'option **Annotation → <img src="images/Draft_AnnotationStyleEditor.svg" width=16px> Éditeur de styles d'annotation...** dans le menu.
2.  La boîte de dialogue **Éditeur de styles d'annotation** s\'ouvre.
3.  Sélectionnez un style dans la liste déroulante **Nom du style** ou choisissez {{Value|Ajouter nouveau...}} pour définir un nouveau style.
4.  Vous pouvez également ajuster les propriétés du style.
5.  Vous pouvez également appuyer sur le bouton **[<img src=images/Accessories-text-editor.svg style="width:16px"> Renommer** pour renommer le style.
6.  Vous pouvez également appuyer sur le bouton **[<img src=images/Edit_Cancel.svg style="width:16px"> Supprimer** pour supprimer le style.
7.  Vous pouvez également appuyer sur le bouton **[<img src=images/Std_Import.svg style="width:16px">** pour importer tous les styles d\'un fichier {{FileName|.json}}. Cela écrasera les styles existants portant le même nom.
8.  Vous pouvez également appuyer sur le bouton **[<img src=images/Std_Export.svg style="width:16px">** pour exporter tous les styles vers un fichier {{FileName|.json}}.
9.  Appuyez sur le bouton **OK** pour fermer la boîte de dialogue et terminer la commande.

## Script

Voir aussi: [Autogenerated API documentation](https://freecad.github.io/SourceDoc/) et [Débuter avec les scripts FreeCAD](FreeCAD_Scripting_Basics/fr.md).

Les styles d\'annotation sont enregistrés en tant que dictionnaires sérialisés dans l\'attribut `Meta` du document. Cet attribut est inspecté par l\'éditeur de style d\'annotation lorsqu\'il est ouvert.


```python
>>> print(App.ActiveDocument.Meta["Draft_Style_Lane 1:100"])
{"FontName": "DejaVu Sans", "FontSize": "8.0000 ", "LineSpacing": "1 cm", "ScaleMultiplier": 1.0, "ShowUnit": false, "UnitOverride": "", "Decimals": 2, "ShowLines": true, "LineWidth": 2, "LineColor": 1095216660480, "ArrowType": 0, "ArrowSize": "5.0000 ", "DimensionOvershoot": "1.0000 ", "ExtensionLines": "5.0000 ", "ExtensionOvershoot": "1.0000 "}
```

Chaque style qui apparaît dans l\'éditeur est enregistré en interne avec le nom de style préfixé par `Draft_Style_`. Cela empêchera des conflits de noms avec d\'autres clés qui peuvent être enregistrées dans `Meta` et qui peuvent contenir des informations arbitraires.

Vous pouvez définir tout nouveau style en ajoutant les informations nécessaires à une clé commençant par `Draft_Style_`. La valeur correspondante de cette clé doit être un dictionnaire sérialisé à l\'aide de `json`. 
```python
import json

meta = App.ActiveDocument.Meta
props = {"LineWidth": 6, "ArrowSize": "7"}
meta["Draft_Style_Thick_lines"] = json.dumps(props)
App.ActiveDocument.Meta = meta
``` Les valeurs non saisies seront renseignées automatiquement lorsque ce style est sélectionné dans l\'éditeur de styles.

De la même manière, tout dictionnaire sérialisé peut être décompressé pour l\'édition. 
```python
meta = App.ActiveDocument.Meta
new_dict = json.loads(meta["Draft_Style_Thick_lines"])
```

Étant donné que les widgets de l\'interface graphique vérifient les unités des valeurs d\'entrée, bon nombre de ces valeurs doivent être enregistrées sous forme de chaînes de caractères plutôt que de nombres à virgule flottante.

Chaînes de caractères : 
```python
props = {
  "FontName": "DejaVu Sans",
  "FontSize": "12.0000 ",
  "LineSpacing": "1 cm",
  "UnitOverride": "m",
  "ArrowSize": "5.0000 ",
  "DimensionOvershoot": "1.0000 ",
  "ExtensionLines": "5.0000 ",
  "ExtensionOvershoot": "1.0000 "
}
```

Nombres : 
```python
props = {
  "ScaleMultiplier": 1.0,
  "Decimals": 2,
  "LineWidth": 1,
  "LineColor": 1095216660480,
  "ArrowType": 0
}
``` La couleur de la ligne correspond à l\'entier 32 bits, à partir duquel les valeurs RGBA individuelles peuvent être extraites.

Booléen : 
```python
props = {
  "ShowUnit": False,
  "ShowLines": True
}
```



---
![](images/Right_arrow.png) [documentation index](../README.md) > [Draft](Draft_Workbench.md) > Draft AnnotationStyleEditor/fr
